<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% if title %}{{ title }} - {% endif %}CentroEspectro</title>

    {% load static %}
    <link rel="icon" type="image/x-icon" href="{% static 'img/favicon/favicon.ico' %}" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

    <!-- CSS principal do site -->
    <link rel="stylesheet" href="{% static 'css/site.css' %}" />
    
    <style>
        /* [Seus estilos CSS existentes - mantidos como estão] */
        /* Header & Navigation - mantido igual */
        .navbar {
            background-color: #fff;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
            padding: 0.7rem 0;
        }

        .navbar .container {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .navbar-brand {
            font-weight: 700;
            font-size: 1.4rem;
            color: var(--primary) !important;
            display: flex;
            align-items: center;
            padding-right: 4.5rem;
        }

        .navbar-brand span {
            background: linear-gradient(45deg, var(--primary) 30%, var(--primary-light) 90%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .navbar-brand .logo-icon {
            color: var(--primary);
            margin-right: 0.5rem;
            font-size: 1.8rem;
        }

        .navbar-collapse {
            display: flex;
            justify-content: space-between;
            flex-grow: 1;
        }

        .navbar-nav .nav-item {
            padding: 0 8px;
        }

        .navbar-nav.me-auto {
            margin-right: auto !important;
            margin-left: 2rem !important;
        }

        .nav-link {
            color: var(--gray-700) !important;
            font-weight: 500;
            padding: 0.7rem 1rem !important;
            transition: all 0.3s ease;
            border-radius: 6px;
        }

        .nav-link:hover {
            color: var(--primary) !important;
            background-color: rgba(106, 62, 161, 0.04);
        }

        .nav-link.active {
            color: var(--primary) !important;
            background-color: rgba(106, 62, 161, 0.08);
        }

        .nav-icon {
            margin-right: 0.5rem;
            font-size: 1.1rem;
            color: var(--primary-light);
        }

       /* Substitua o CSS do navbar-toggler existente por este código */

        /* Hamburger Menu Moderno */
        .navbar-toggler {
            border: none;
            padding: 8px;
            background: none;
            position: relative;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .navbar-toggler:focus {
            box-shadow: none;
            outline: none;
        }

        .navbar-toggler:hover {
            background-color: rgba(106, 62, 161, 0.08);
        }

        /* Esconder o ícone padrão do Bootstrap */
        .navbar-toggler-icon {
            display: none;
        }

        /* Container do hamburger */
        .hamburger {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 24px;
            height: 24px;
            cursor: pointer;
        }

        /* Linhas do hamburger */
        .hamburger span {
            display: block;
            width: 100%;
            height: 2px;
            background-color: var(--primary);
            border-radius: 2px;
            transition: all 0.25s ease-in-out;
            transform-origin: center;
            will-change: transform, opacity;
        }

        .hamburger span:nth-child(1) {
            margin-bottom: 4px;
        }

        .hamburger span:nth-child(2) {
            margin-bottom: 4px;
        }

        /* Animação quando o menu está aberto */
        .navbar-toggler[aria-expanded="true"] .hamburger span:nth-child(1) {
            transform: translateY(6px) rotate(45deg);
        }

        .navbar-toggler[aria-expanded="true"] .hamburger span:nth-child(2) {
            opacity: 0;
            transform: scale(0);
        }

        .navbar-toggler[aria-expanded="true"] .hamburger span:nth-child(3) {
            transform: translateY(-6px) rotate(-45deg);
        }

        /* Animação quando o menu está fechado - CORREÇÃO DA TRAVADINHA */
        .navbar-toggler[aria-expanded="false"] .hamburger span:nth-child(1) {
            transform: translateY(0) rotate(0deg);
        }

        .navbar-toggler[aria-expanded="false"] .hamburger span:nth-child(2) {
            opacity: 1;
            transform: scale(1);
        }

        .navbar-toggler[aria-expanded="false"] .hamburger span:nth-child(3) {
            transform: translateY(0) rotate(0deg);
        }

        /* Melhorias no menu mobile */
        @media (max-width: 991px) {
            .navbar-collapse {
                flex-direction: column;
                align-items: flex-start;
                background-color: white;
                border-radius: 12px;
                box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
                padding: 1.5rem;
                margin-top: 1rem;
                border: 1px solid rgba(106, 62, 161, 0.1);
                backdrop-filter: blur(10px);
                animation: slideDown 0.3s ease-out;
            }

            @keyframes slideDown {
                from {
                    opacity: 0;
                    transform: translateY(-10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .navbar-nav.mx-auto {
                margin-left: 0 !important;
                margin-right: 0 !important;
                width: 100%;
            }

            .navbar-nav:last-child {
                margin-top: 1.5rem;
                margin-left: 0;
                width: 100%;
                padding-top: 1rem;
                border-top: 1px solid rgba(106, 62, 161, 0.1);
            }

            .navbar-nav:last-child .nav-item {
                width: 100%;
            }

            .navbar-nav:last-child .btn {
                margin-top: 0.5rem;
                width: 100%;
                display: block;
                text-align: center;
                justify-content: center;
            }

            .nav-link {
                padding: 0.8rem 1rem !important;
                border-radius: 8px;
                margin-bottom: 0.3rem;
                transition: all 0.3s ease;
            }

            .nav-link:hover {
                background-color: rgba(106, 62, 161, 0.08);
                transform: translateX(5px);
            }
        }

        @media (max-width: 991px) {
            .navbar-collapse {
                flex-direction: column;
                align-items: flex-start;
                background-color: white;
                border-radius: 10px;
                box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
                padding: 1rem;
                margin-top: 0.5rem;
            }

            .navbar-nav.mx-auto {
                margin-left: 0 !important;
                width: 100%;
            }

            .navbar-nav:last-child {
                margin-top: 1rem;
                margin-left: 0;
                width: 100%;
            }

            .navbar-nav:last-child .nav-item {
                width: 100%;
            }

            .navbar-nav:last-child .btn {
                margin-top: 0.5rem;
                width: 100%;
                display: block;
                text-align: center;
            }

            .nav-link {
                padding: 0.7rem 1rem !important;
            }
        }

        /* Main Content */
        main {
            min-height: calc(100vh - 180px);
        }

        .container {
            max-width: 1280px;
        }

        /* Buttons */
        .btn {
            border-radius: 6px;
            padding: 0.6rem 1.5rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary) 30%, var(--primary-light) 90%);
            border: none;
            box-shadow: 0 4px 10px rgba(106, 62, 161, 0.2);
        }

        .btn-primary:hover {
            background: linear-gradient(45deg, var(--primary-dark) 30%, var(--primary) 90%);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(106, 62, 161, 0.3);
        }

        .btn-outline-primary {
            color: var(--primary);
            border: 2px solid var(--primary);
            background: transparent;
        }

        .btn-outline-primary:hover {
            background-color: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

       /* Dropdown de Usuário Moderno */
        .nav-item.dropdown {
            position: relative;
        }

        .dropdown-toggle {
            background: rgba(106, 62, 161, 0.04);
            border-radius: 20px;
            padding: 0.6rem 1.2rem !important;
            font-weight: 500;
            transition: all 0.3s ease;
            border: 1px solid rgba(106, 62, 161, 0.08);
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .dropdown-toggle:hover {
            background: rgba(106, 62, 161, 0.08);
            border-color: rgba(106, 62, 161, 0.15);
            transform: translateY(-1px);
        }

        .dropdown-toggle::after {
            margin-left: 0.8rem;
            border-top: 3px solid rgba(106, 62, 161, 0.6);
            border-right: 3px solid transparent;
            border-left: 3px solid transparent;
            transition: transform 0.3s ease;
        }

        .dropdown-toggle[aria-expanded="true"]::after {
            transform: rotate(180deg);
        }

        /* Menu Dropdown */
        .dropdown-menu {
            background: white;
            border: 1px solid rgba(106, 62, 161, 0.08);
            border-radius: 10px;
            box-shadow: 0 8px 25px rgba(106, 62, 161, 0.08);
            padding: 0.5rem 0;
            margin-top: 0.5rem;
            min-width: 200px;
            backdrop-filter: blur(10px);
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Items do Dropdown */
        .dropdown-item {
            padding: 0.7rem 1.2rem;
            font-weight: 500;
            color: var(--gray-700);
            border-radius: 0;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .dropdown-item:hover {
            background: rgba(106, 62, 161, 0.04);
            color: var(--primary);
            transform: translateX(3px);
        }

        .dropdown-item:focus {
            background: rgba(106, 62, 161, 0.06);
            color: var(--primary);
            outline: none;
        }

        .dropdown-item i {
            font-size: 0.9rem;
            width: 18px;
            margin-right: 0.7rem;
            opacity: 0.7;
            transition: all 0.3s ease;
        }

        .dropdown-item:hover i {
            color: var(--primary);
            opacity: 1;
            transform: scale(1.05);
        }

        /* Divider */
        .dropdown-divider {
            border-top: 1px solid rgba(106, 62, 161, 0.06);
            margin: 0.3rem 0.8rem;
        }

        /* Ícone do usuário no nav-link */
        .nav-link .nav-icon {
            font-size: 1rem;
            margin-right: 0.5rem;
            color: rgba(106, 62, 161, 0.7);
            opacity: 0.8;
        }

        /* Responsividade para mobile */
        @media (max-width: 991px) {
            .dropdown-toggle {
                background: transparent;
                border-radius: 8px;
                padding: 0.7rem 1rem !important;
                width: 100%;
                justify-content: flex-start;
            }
            
            .dropdown-toggle::after {
                margin-left: auto;
            }
            
            .dropdown-menu {
                position: static !important;
                float: none;
                width: 100%;
                margin-top: 0.5rem;
                border: 1px solid rgba(106, 62, 161, 0.1);
                transform: none !important;
                box-shadow: 0 5px 15px rgba(106, 62, 161, 0.1);
            }
            
            .dropdown-item {
                padding: 0.9rem 1.5rem;
            }
            
            .dropdown-item:hover {
                transform: translateX(8px);
            }
        }

        /* Back to top button - CORRIGIDO */
        .back-to-top {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            border: none;
            box-shadow: 0 4px 15px rgba(106, 62, 161, 0.4);
            z-index: 1000;
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .back-to-top.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .back-to-top:hover {
            background: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(106, 62, 161, 0.5);
            color: white;
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        /* Footer Simplificado */
        .footer {
            background-color: #f8f9fa;
            border-top: 3px solid var(--primary);
            padding: 40px 0 20px 0;
            font-family: 'Poppins', sans-serif;
        }

        .footer-content {
            text-align: center;
            color: #6c757d;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .footer-logo .logo-icon {
            color: var(--primary);
            margin-right: 10px;
            font-size: 1.5rem;
        }

        .footer-logo span {
            font-size: 1.3rem;
            font-weight: 600;
            background: linear-gradient(45deg, var(--primary) 30%, var(--primary-light) 90%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .footer-description {
            max-width: 600px;
            margin: 0 auto 25px auto;
            color: #6c757d;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .footer-links {
            margin-bottom: 25px;
        }

        .footer-links a {
            color: #6c757d;
            text-decoration: none;
            margin: 0 15px;
            font-size: 0.9rem;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--primary);
        }

        .footer-social {
            margin-bottom: 25px;
        }

        .footer-social a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 35px;
            height: 35px;
            margin: 0 8px;
            border-radius: 50%;
            background-color: #e9ecef;
            color: #6c757d;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-social a:hover {
            background-color: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        .footer-copyright {
            border-top: 1px solid #dee2e6;
            padding-top: 20px;
            font-size: 0.85rem;
            color: #6c757d;
        }

        .footer-contact {
            margin-bottom: 20px;
            color: #6c757d;
            font-size: 0.9rem;
        }

        .footer-contact i {
            color: var(--primary);
            margin-right: 8px;
            width: 16px;
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .footer {
                padding: 30px 0 15px 0;
            }

            .footer-links a {
                display: block;
                margin: 5px 0;
            }

            .footer-social {
                margin: 20px 0;
            }

            .footer-description {
                font-size: 0.9rem;
                margin-bottom: 20px;
            }

            .back-to-top {
                bottom: 20px;
                right: 20px;
                width: 45px;
                height: 45px;
            }
        }

        /* Adicione algum conteúdo para testar o scroll */
        .demo-content {
            height: 150vh;
            background: linear-gradient(45deg, #f8f9fa, #e9ecef);
            padding: 2rem;
        }
    </style>
    
    <!-- CSS específico da página vem depois -->
    {% block extra_css %}{% endblock %}
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light sticky-top">
            <div class="container">
                <a class="navbar-brand" href="{% url 'index' %}">
                    <i class="fas fa-puzzle-piece logo-icon"></i>
                    <span>CentroEspectro</span>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <div class="hamburger">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </button>
                <div class="navbar-collapse collapse" id="navbarNav">
                    <!-- ================================================================== -->
                    <!-- MODIFICAÇÃO: Classe 'me-auto' alterada para 'mx-auto' para centralizar -->
                    <!-- MODIFICAÇÃO: Item 'Ferramentas' foi removido -->
                    <!-- ================================================================== -->
                    <ul class="navbar-nav mx-auto">
                        <li class="nav-item">
                            <a class="nav-link {% if request.resolver_match.url_name == 'index' %}active{% endif %}"
                                href="{% url 'index' %}">
                                <i class="fas fa-home nav-icon"></i>Início
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {% if request.resolver_match.url_name == 'duvidas' %}active{% endif %}"
                                href="{% url 'duvidas' %}">
                                <i class="fas fa-question-circle nav-icon"></i>Dúvidas
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {% if request.resolver_match.url_name == 'contatos' %}active{% endif %}"
                                href="{% url 'contatos' %}">
                                <i class="fas fa-address-book nav-icon"></i>Contatos
                            </a>
                        </li>
                    </ul>

                    <!-- Botões de Autenticação -->
                    <div class="navbar-nav">
                        {% if user.is_authenticated %}
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="fas fa-user nav-icon"></i>{{ user.username }}
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                                <li>
                                    <a class="dropdown-item" href="{% url 'profile' %}">
                                        <i class="fas fa-id-card me-2"></i>Meu Perfil
                                    </a>
                                </li>
                                <!-- ================================================================== -->
                                <!-- MODIFICAÇÃO: LINK PARA ÁREA DO PROFESSOR -->
                                <!-- ================================================================== -->
                                {% if user.customuser.is_professor %}
                                <li>
                                    <a class="dropdown-item" href="{% url 'area_professor' %}">
                                        <i class="fas fa-chalkboard-teacher me-2"></i>Área do Professor
                                    </a>
                                </li>
                                {% endif %}
                                <!-- ================================================================== -->

                                {% if user.is_staff %}
                                <li>
                                    <a class="dropdown-item" href="{% url 'admin:index' %}" target="_blank">
                                        <i class="fas fa-cogs me-2"></i>Painel Admin
                                    </a>
                                </li>
                                {% endif %}
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li>
                                    <a class="dropdown-item" href="{% url 'logout' %}">
                                        <i class="fas fa-sign-out-alt me-2"></i>Sair
                                    </a>
                                </li>
                            </ul>
                        </li>
                        {% else %}
                        <li class="nav-item">
                            <a class="nav-link {% if request.resolver_match.url_name == 'login' %}active{% endif %}"
                                href="{% url 'login' %}">
                                <i class="fas fa-sign-in-alt nav-icon"></i>Entrar
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="btn btn-primary ms-2" href="{% url 'register' %}">
                                <i class="fas fa-user-plus me-1"></i>Cadastrar
                            </a>
                        </li>
                        {% endif %}
                    </div>
                </div>
            </div>
        </nav>
    </header>
    
    <main role="main">
        {% block content %}
        <!-- Conteúdo da página aqui -->
        <div class="container py-5">
            <h1>Sua página aqui</h1>
            <p>Este é um exemplo de conteúdo para demonstrar o footer simplificado.</p>
            <!-- Conteúdo adicional para testar o scroll -->
            <div class="demo-content">
                <h2>Conteúdo de Teste</h2>
                <p>Role para baixo para ver o botão "Voltar ao Topo" aparecer!</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
                <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
        </div>
        {% endblock %}
        
        <!-- ================================================================== -->
        <!-- O BLOCO DE MENSAGENS ANTIGO FOI REMOVIDO DAQUI -->
        <!-- O código que estava aqui foi substituído pelo script no final do arquivo. -->
        <!-- ================================================================== -->

    </main>

    <!-- Footer Simplificado -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <!-- Logo -->
                <div class="footer-logo">
                    <i class="fas fa-puzzle-piece logo-icon"></i>
                    <span>CentroEspectro</span>
                </div>

                <!-- Descrição -->
                <p class="footer-description">
                    Plataforma de apoio para famílias e pessoas no espectro autista, oferecendo recursos e ferramentas para uma vida mais plena.
                </p>

                <!-- Links rápidos -->
                <!-- ================================================================== -->
                <!-- MODIFICAÇÃO: Link 'Ferramentas' removido -->
                <!-- ================================================================== -->
                <div class="footer-links">
                    <a href="{% url 'index' %}">Início</a>
                    <a href="{% url 'duvidas' %}">Dúvidas</a>
                    <a href="{% url 'contatos' %}">Contatos</a>
                </div>

                <!-- Copyright -->
                <div class="footer-copyright">
                    <p>&copy; 2025 CentroEspectro - Projeto TCC. Todos os direitos reservados.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to top button - CORRIGIDO -->
    <button id="back-to-top" class="back-to-top" aria-label="Voltar ao topo">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- ================================================================== -->
    <!-- MODIFICAÇÃO #1: ADICIONANDO A BIBLIOTECA SWEETALERT2 -->
    <!-- ================================================================== -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <script src="{% static 'js/site.js' %}"></script>

    <script>
        // Back to top button - JAVASCRIPT CORRIGIDO
        $(document).ready(function() {
            const backToTopBtn = $('#back-to-top');
            
            // Mostrar/esconder botão baseado no scroll
            $(window).scroll(function () {
                if ($(this).scrollTop() > 300) {
                    backToTopBtn.addClass('show');
                } else {
                    backToTopBtn.removeClass('show');
                }
            });

            // Ação do clique
            backToTopBtn.click(function (e) {
                e.preventDefault();
                $('html, body').animate({ 
                    scrollTop: 0 
                }, 500);
                return false;
            });

            // Verificar se já deve mostrar o botão na carga da página
            if ($(window).scrollTop() > 300) {
                backToTopBtn.addClass('show');
            }
        });
        
        $(document).ready(function() {
            // Código existente aqui...
            
            // Fix para a travadinha do menu hambúrguer
            const navbarToggler = $('.navbar-toggler');
            const navbarCollapse = $('#navbarNav');
            
            // Garante que a animação funcione corretamente
            navbarCollapse.on('show.bs.collapse', function() {
                navbarToggler.attr('aria-expanded', 'true');
            });
            
            navbarCollapse.on('hide.bs.collapse', function() {
                navbarToggler.attr('aria-expanded', 'false');
            });
            
            // Force o estado inicial correto
            navbarToggler.attr('aria-expanded', 'false');
        });

        // Add animation to elements when they become visible
        function animateOnScroll() {
            $('.animate__animated').each(function () {
                const position = $(this).offset().top;
                const scroll = $(window).scrollTop();
                const windowHeight = $(window).height();

                if (scroll + windowHeight > position) {
                    const animation = $(this).data('animation');
                    $(this).addClass(animation);
                }
            });
        }

        $(window).scroll(animateOnScroll);
        $(document).ready(animateOnScroll);
    </script>

    <!-- ================================================================== -->
    <!-- MODIFICAÇÃO #2: SCRIPT PARA EXIBIR AS MENSAGENS COM SWEETALERT2 -->
    <!-- ================================================================== -->
    {% if messages %}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            {% for message in messages %}
            Swal.fire({
                toast: true,
                position: 'top-end', // Posição no canto superior direito
                icon: '{{ message.tags }}', // Ícone (success, error, warning, info)
                title: '{{ message }}', // O texto da sua mensagem de sucesso
                showConfirmButton: false, // Não mostrar o botão "OK"
                timer: 4000, // A notificação desaparecerá após 4 segundos
                timerProgressBar: true, // Mostra uma barra de progresso do tempo
                didOpen: (toast) => {
                    toast.addEventListener('mouseenter', Swal.stopTimer)
                    toast.addEventListener('mouseleave', Swal.resumeTimer)
                }
            });
            {% endfor %}
        });
    </script>
    {% endif %}

    {% block extra_js %}{% endblock %}
</body>

</html>